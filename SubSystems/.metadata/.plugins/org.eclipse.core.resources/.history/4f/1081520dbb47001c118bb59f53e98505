#include "DS18B20_port.h"




uint8_t DS18_USER_GPIO_HIZ_IN() {
	HAL_GPIO_WritePin(DS18_DQ_Port, GPIO_Pin, PinState)
}
void DS18_USER_GPIO_ToGround() {
	DS18_DQ_Port->MODER &= ~(1 << ((DS18_DQ_PIN_N - 1) * 2 + 1));
	DS18_DQ_Port->MODER |= (1 << ((DS18_DQ_PIN_N - 1) * 2));

	DS18_DQ_Port->OTYPER |= (1 << (DS18_DQ_PIN_N - 1));

	DS18_DQ_Port->OSPEEDR &= ~(1 << ((DS18_DQ_PIN_N - 1) * 2 + 1));
	DS18_DQ_Port->OSPEEDR |= (1 << ((DS18_DQ_PIN_N - 1) * 2));

	DS18_DQ_Port->PUPDR &= ~(1 << ((DS18_DQ_PIN_N - 1) * 2 + 1));
	DS18_DQ_Port->PUPDR |= (1 << ((DS18_DQ_PIN_N - 1) * 2));

	DS18_DQ_Port->BSRR = (1 << ((DS18_DQ_PIN_N - 1))) << 16;

}
void DS18B20_USER_DelayMicroSec(volatile uint32_t micros) {
	micros = micros * (SystemCoreClock / 1000000UL) / 8;

	while (micros--)
		asm("NOP");
}
